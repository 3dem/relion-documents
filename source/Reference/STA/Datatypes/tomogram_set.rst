.. _sec_sta_tomogram_set:

Tomogram set
============

The tomogram set describes all the tomograms (i.e. tilt series) defined in a project, and is usually named ``tomograms.star``.
It contains ``T+1`` tables, where ``T`` is the number of tomograms.

The first table (named ``global``) defines the properties pertaining to each tomogram.
Each row corresponds to one tomogram, and it lists the following properties:

- The **tomogram name** (``rlnTomoName``): a unique identifier used to refer to this tomogram  within the entire project (i.e. within the tomogram set, the particle set and the manifold set)
- The **tilt series file name** (``rlnTomoTiltSeriesName``): the path to the image stack
- The **frame count** (``rlnTomoFrameCount``)
- The **tomogram size** (``rlnTomoSize<X/Y/Z>``): the extent of the tomogram region in 3D space
- The **handedness** (``rlnTomoHand``): this value is either +1 or -1, and it describes whether the focus increases or decreases as a function of depth (projected Z coordinate). It cannot be known a priori and has to be determined experimentally. It is typically identical across the entire data set.
- The **pixel size** of the tilt series, given in Ã… (``rlnTomoTiltSeriesPixelSize``)
- The **voltage**, given in kV (``rlnVoltage``)
- The **spherical aberration**, given in mm^-1 (``rlnSphericalAberration``)
- The **amplitude contrast** (``rlnAmplitudeContrast``)
- (optional) The path to a STAR file containing the 3D positions of **fiducial markers** detected by :ref:`program_tomo_find_fiducials` (``rlnTomoFiducialsStarFile``)

The tables after that correspond to one tomogram each, and they carry the same name as the tomograms to which they refer. Each row corresponds to one tilt image and describes the following properties:

- The rows of the **projection matrices** that map points in 3D space onto the 2D image (``rlnTomoProj<X/Y/Z/W>``)
- The **astigmatic defocus** (``rlnDefocus<U/V>`` and ``rlnDefocusAngle``). 
- The **cumulative radiation dose** (``rlnMicrographPreExposure``). 

The tomogram set is typically the first data file that is created as part of a new project. It can be generated by importing an existing alignment from ``IMOD`` by calling the :ref:`program_tomo_import_tomograms` program. The initial alignment can and should be later optimised using the :ref:`program_tomo_align` program.